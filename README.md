# Weather Prediction Web Service

## Краткое описание

Этот проект представляет собой веб-сервис, который анализирует погоду и сообщает о неблагоприятных погодных условиях для заданного маршрута с использованием данных от AccuWeather API. Сервис предоставляет пользователю удобные карточки прогноза погоды для начальной и конечной точек маршрута.

## Инструкция по запуску и получению ключей

### Шаг 1: Получение API ключа

1. Зарегистрируйтесь на [OpenWeather API](https://openweathermap.org/) и получите свой API ключ.
2. Сохраните API ключ в `.env` файле в корне проекта:
    ```
    OPENWEATHER_API_KEY=your_api_key_here
    ```

### Шаг 2: Установка необходимых библиотек

1. Убедитесь, что у вас установлен Python 3.7 или выше.
2. Установите необходимые библиотеки, выполнив команду:
    ```sh
    pip install -r requirements.txt
   ```

### Шаг 3: Запуск веб-сервиса

1. Запустите веб-сервис командой:
    ```sh
    python run.py
   ```
2. Откройте браузер и перейдите по адресу `http://127.0.0.1:5000`, чтобы увидеть работающий веб-сервис.


### Описание директорий и файлов

- `app/`: Основная директория приложения.
  - `__init__.py`: Инициализация приложения Flask.
  - `models/`: Модели данных.
  - `routes/`: Маршруты приложения.
  - `services/`: Логика обработки данных и взаимодействия с API.
  - `templates/`: HTML-шаблоны.
  - `translations/`: Файлы переводов.
- `config.py`: Конфигурация приложения.
- `logs/`: Логи приложения.
- `run.py`: Точка входа для запуска приложения.
- `tests/`: Тесты для приложения.
- `requirements.txt`: Список зависимостей проекта.
- `TASK.md`: Описание задания и критерии оценки.

## Описание некоторых решений

### Локализация

Для локализации используется библиотека `Flask-Babel`. Функция `get_locale` определяет язык интерфейса на основе параметров запроса, сессии или предпочтений браузера.

> Можно указать язык, добавив параметр lang=<lang> в строку запроса. Поддерживается en и ru.

### Обработка ошибок

Для обработки ошибок при запросах к API используется блок `try-except`. В случае ошибки пользователю выводится понятное сообщение о проблеме.

### Тестирование

Тесты для приложения находятся в директории `tests/`. Они включают тесты для API и модели анализа, что позволяет убедиться в корректной работе всех компонентов приложения.
